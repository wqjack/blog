# 手写代码高频题库（题 + 标准实现 + 扩展）

## 1 实现 call/apply/bind
**题目**：分别实现 call/apply/bind。  
**参考实现**：
```js
Function.prototype.myCall = function(ctx, ...args) {
  ctx = ctx || globalThis;
  const fnKey = Symbol('fn');
  ctx[fnKey] = this;
  const res = ctx[fnKey](...args);
  delete ctx[fnKey];
  return res;
}
```
**扩展**：bind 返回新函数并保留 this 和参数，new 绑定优先处理。

## 2 实现 Promise（简化版）
**题目**：手写一个简化版 Promise。  
**要点**：状态管理（pending/fulfilled/rejected）、then 链式、异步执行（微任务）。  
**参考提示**：记录回调队列，resolve/reject 时异步执行回调（queueMicrotask / setTimeout 0）。

## 3 实现深拷贝（支持循环引用）
**题目**：实现 deepClone 支持循环引用。  
**参考思路**：递归 + WeakMap 缓存已处理对象，处理 Date/RegExp/Map/Set。

## 4 实现 debounce、throttle
**题目**：实现节流与防抖（带 immediate 选项）。  
**答案要点**：debounce 通过清除定时器延迟执行，throttle 记录上次执行时间或使用定时器。

## 5 手写 EventEmitter
**题目**：实现一个基本的事件发布/订阅器（on, off, once, emit）。  
**参考思路**：维护事件映射表，每次 emit 遍历调用，once 调用后删除。

## 6 Promise.all 实现
**题目**：实现 Promise.all。  
**提示**：计数成功个数，任一 reject 即 reject，保持原顺序返回结果数组。

## 7 实现 Mini 路由（Hash or History）
**题目**：实现一个简易的 SPA 路由（hash 模式）。  
**要点**：监听 hashchange，路由表匹配，渲染组件。

## 8 实现简单的 Pub/Sub（发布订阅）
**题目**：实现一个简单的 pub/sub，用于组件通信。  
**扩展**：可加优先级、once、异步投递等。

## 9 实现 Promise.race
**题目**：实现 Promise.race。  
**要点**：返回第一个 settle 的 Promise 的结果或错误。

## 10 实现简单的 LRU 缓存
**题目**：实现容量为 N 的 LRU 缓存（get/set）。  
**实现提示**：使用 Map + 双向链表或基于 Map 的插入顺序操作（Map.delete + set 可作为简单实现）。
